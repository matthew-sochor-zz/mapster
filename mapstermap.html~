

<!DOCTYPE html>
<html>
  <head>
    <title>Overlaying an image map type</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>
    <script>
  
function CoordMapType(tileSize) {
  this.tileSize = tileSize;
}

CoordMapType.prototype.getTile = function(coord, zoom, ownerDocument) {
	if (zoom==14) {
		var div = ownerDocument.createElement('div');
  		div.innerHTML = coord
  		div.style.width = this.tileSize.width + 'px';
  		div.style.height = this.tileSize.height + 'px';
  		div.style.fontSize = '10';
 		div.style.borderStyle = 'solid';
  		div.style.borderWidth = '1px';
  		div.style.borderColor = '#AAAAAA';
  		return div;
	}
  
};  
var GET = {};
var query = window.location.search.substring(1).split("&");
for (var i = 0, max = query.length; i < max; i++)
{
    if (query[i] === "") // check for trailing & with no param
        continue;

    var param = query[i].split("=");
    GET[decodeURIComponent(param[0])] = decodeURIComponent(param[1] || "");
}
    
var watertown = new google.maps.LatLng(42.354168,	-71.183853);
var jp = new google.maps.LatLng(42.301817,-71.128063);
var somerville = new google.maps.LatLng(42.381903, -71.113967);
var map;
function initialize() {
  var mapOptions = {
    zoom: 14,
    maxZoom:14,
    minZoom: 14,
    center: watertown
  };
  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var bounds = {
    17: [[20969, 20970], [50657, 50658]],
    18: [[41939, 41940], [101315, 101317]],
    19: [[83878, 83881], [202631, 202634]],
    20: [[167757, 167763], [405263, 405269]]
  };

  var imageMapType = new google.maps.ImageMapType({
    getTileUrl: function(coord, zoom) {
      if (zoom == 14) {
        return ['http://www.sochor.co/tiles/',GET.search,'_', coord.x, '_', coord.y, '.png'].join('');
      } else {
		  return null;      
      }
    },
    tileSize: new google.maps.Size(256, 256)
  });

  map.overlayMapTypes.push(imageMapType);

}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>

